<!DOCTYPE html>
<html>
<head>
	<title>Conversion</title>
</head>

<style>
	textarea{
		width: 40%;
		height: 70vh;
	}
    /* .container{
        display: flex;
        align-content: center;
    } */
</style>

<body>
    <div class="container">
        <h3>Convert Multiline to Single-line with HTML format</h3>
        <div class="text-in-out">
            <textarea id="input" onkeyup="myFunc()" placeholder="Type the input here..."></textarea>
            <textarea id="output" placeholder="Here is the output... &#10This will auto paste to clipboard." readonly></textarea>
        </div>
    </div>
    <button onclick="myFuncMark()">Mark counter</button>
	<!-- <button onclick="myFunc()">Copy output to clipboard</button> -->


	<script>
		
		function myFuncMark(){
			const str = document.querySelector('#input').value;
			const arr = str.split("\n\n");
			let text = '';
			for(let i = 0; i < arr.length; i++){
				text+=`${i+1}. ${arr[i]}\n\n`;
			}
			document.querySelector('#input').value = text.replace(/\n\n$/, "");
			myFunc();
		}

		function myFunc(){
			const str = document.querySelector('#input').value;
			const text = str
				.replace(/\n/g, '<br>')
				.replace(/'/g, "\\'")
				.replace(/"/g, '\\"');
			//Now you can assign it to data
            document.querySelector('#output').value = text;
            
            navigator.clipboard.writeText(text);
			console.log(text);
		}
		
	</script>
</body>
</html>